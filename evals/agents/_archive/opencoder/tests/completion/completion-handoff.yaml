id: completion-handoff
name: Completion Handoff Recommendations
description: |
  Tests that opencoder recommends handoff to other agents after completion.
  When implementation is complete, should recommend:
  - subagents/code/tester (for tests)
  - subagents/core/documentation (for docs)
  
  Agent should emit handoff recommendations.

category: developer
agent: opencoder
model: anthropic/claude-sonnet-4-5

prompts:
  - text: "Create a simple add function in math.js"
    expectContext: false
  
  - text: "approve"
    delayMs: 2000

# Expected behavior
behavior:
  mustUseTools: [write]
  minToolCalls: 1
  # Should mention handoff/next steps
  mustContainAnyOf:
    - ["tester", "test"]
    - ["documentation", "docs"]
    - ["next steps", "Next steps"]
    - ["handoff", "Handoff"]

# Should follow approval workflow
expectedViolations:
  - rule: approval-gate
    shouldViolate: false
    severity: error

approvalStrategy:
  type: auto-approve

timeout: 90000

tags:
  - completion
  - handoff
  - workflow
  - coordination

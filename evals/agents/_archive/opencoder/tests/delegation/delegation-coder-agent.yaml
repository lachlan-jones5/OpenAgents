id: delegation-coder-agent
name: Coder Agent Delegation (Simple Task)
description: |
  Tests that opencoder can delegate simple tasks to coder-agent.
  For simple, focused implementations, should use coder-agent to save time.
  
  Agent should:
  1. Recognize simple task
  2. Optionally delegate to subagents/code/coder-agent
  3. OR implement directly (both acceptable for simple tasks)

category: developer
agent: opencoder
model: anthropic/claude-sonnet-4-5

prompts:
  - text: "Create a simple hello world function in utils/hello.js"
    expectContext: false
  
  - text: "approve"
    delayMs: 2000

# Expected behavior
behavior:
  # Either delegates OR implements directly (both OK for simple tasks)
  mustUseAnyOf: [[task], [write]]
  minToolCalls: 1

# Should follow approval workflow
expectedViolations:
  - rule: approval-gate
    shouldViolate: false
    severity: error

approvalStrategy:
  type: auto-approve

timeout: 90000

tags:
  - delegation
  - coder-agent
  - simple-task

id: incremental-implementation
name: Incremental Implementation with Validation
description: |
  Tests that opencoder implements step-by-step (not all at once).
  Agent should:
  1. Present multi-step plan
  2. Implement ONE step at a time
  3. Validate after each step
  4. NOT implement entire plan in one go

category: developer
agent: opencoder
model: anthropic/claude-sonnet-4-5

prompts:
  - text: |
      Create a simple calculator module with:
      1. Add function
      2. Subtract function
      3. Multiply function
      
      Implement incrementally, one function at a time.
    expectContext: false
  
  - text: "approve"
    delayMs: 2000

# Expected behavior
behavior:
  mustUseTools: [read, write]
  minToolCalls: 2
  # Should mention incremental/step-by-step approach
  mustContain:
    - "Step"

# Should follow approval workflow
expectedViolations:
  - rule: approval-gate
    shouldViolate: false
    severity: error

approvalStrategy:
  type: auto-approve

timeout: 180000

tags:
  - implementation
  - incremental
  - validation
  - workflow
